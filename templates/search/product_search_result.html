{% extends "share/base_layout_with_search.html" %}
{% block title %}一点礼品-搜索结果{% endblock %}
{% block content %}
<div class="container">
    <div class="bread-crumb">
        <a href="/">首页</a>><a href="javascript:void(0)">搜索结果</a>
    </div>
    <div class="query-area">
        <div class="query-item-wrap">
            <span class="query-name">单价</span>
            <a class="query-param {% if price_range == '0' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?price_range=0&in_private={{ in_private }}&q={{ search_query }}">不限</a>
            <a class="query-param {% if price_range == '1' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?price_range=1&in_private={{ in_private }}&q={{ search_query }}">0-20</a>
            <a class="query-param {% if price_range == '2' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?price_range=2&in_private={{ in_private }}&q={{ search_query }}">20-50</a>
            <a class="query-param {% if price_range == '3' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?price_range=3&in_private={{ in_private }}&q={{ search_query }}">50-100</a>
            <a class="query-param {% if price_range == '4' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?price_range=4&in_private={{ in_private }}&q={{ search_query }}">100-200</a>
            <a class="query-param {% if price_range == '5' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?price_range=5&in_private={{ in_private }}&q={{ search_query }}">200以上</a>
        </div>
        <!--
        <div class="query-item-wrap">
            <span class="query-name">数量</span>
            <a class="query-param" href="#">不限</a>
            <a class="query-param" href="#">0-20</a>
            <a class="query-param" href="#">20-50</a>
            <a class="query-param" href="#">50-100</a>
            <a class="query-param" href="#">100-200</a>
            <a class="query-param" href="#">200以上</a>
        </div>
        !-->
        {% if has_private_area %}
        <div class="query-item-wrap">
            <span class="query-name">区域</span>
            <a class="query-param {% if in_private == '0' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?in_private=0&price_range={{ price_range }}&q={{ search_query }}">不限</a>
            <a class="query-param {% if in_private == '1' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?in_private=2&price_range={{ price_range }}&q={{ search_query }}">公有</a>
            <a class="query-param {% if in_private == '2' %} select {% endif %}" href="{% url 'gift_platform_site:search_products'  %}?in_private=1&price_range={{ price_range }}&q={{ search_query }}">私有</a>
        </div>
        {% endif %}
    </div>
    <div class="sort-bar">
        <a href="#" class="sort-btn">综合</a>
        <!--<a href="#" class="select sort-btn">人气↓</a>-->
    </div>
    <div class="product-list-wrap">
        {% for product in products %}
        <div class="product-list-item">
            <img class="image-cover" src="{{ product.images.first.productimage.url }}" />
            <div class="desc-wrap">
                <div class="name">{{ product.name }}</div>
                <div class="price">￥{{ product.productItems.first.price }}</div>
            </div>
        </div>
        {% endfor %}
        <div class="clear"></div>
    </div>
    <div class="pagination">
        {% if products.has_previous %}
        <span class="page-item">
            <a href="{% url 'gift_platform_site:search_products' %}?page={{ products.previous_page_number }}&in_private={{ in_private }}&price_range={{ price_range }}&q={{ search_query }}">上一页</a>
        </span>
        {% endif %}
        {% for i in pager_array %}
            {% if i == '...' %}
                <span class="page-item more">
                    ...
                </span>
            {% else %}
                <span class="page-item {% if i == products.number|stringformat:"i" %} current-page {% endif %}">
                    <a href="{% url 'gift_platform_site:search_products'  %}?page={{ i }}&in_private={{ in_private }}&price_range={{ price_range }}&q={{ search_query }}">{{ i }}</a>
                </span>
            {% endif %}
        {% endfor %}
        <span class="page-item">
            {% if products.has_next %}
            <a href="{% url 'gift_platform_site:search_products' %}?page={{ products.next_page_number }}&in_private={{ in_private }}&price_range={{ price_range }}&q={{ search_query }}">下一页</a>
            {% endif %}
        </span>
        <div class="jump-to">
            <span>到</span>
            <input type="text" class="jump-to-input" />
            <span>页</span>
            <a href="#" class="jump-btn">确定</a>
        </div>
    </div>
    <div class="clear"></div>
</div>
{% endblock %}
